S0 Start Leader Election                                                                                                
C0 Send Request Vote for                                                                                                
S4                                                                                                                      
C0 Send Request Vote for                                                                                                
S2                                                                                                                      
C0 Send Request Vote for                                                                                                
S3                                                                                                                      
C0 Send Request Vote for                                                                                                
S1                                                                                                                      
S0 asking S4 for vote,                                                                                                  
T1                                                                                                                      
                                                                                                 S4 update term T1      
S0 asking S2 for vote,                                                                                                  
T1                                                                                                                      
                                                                                                 S4 Receive Request Vote
                                                                                                 args(LastLogTerm 0,    
                                                                                                 LastLogIndex 0) from   
                                                                                                 S0(LastLogTerm 0,      
                                                                                                 LastLogIndex 0)        
                                                                                                 S4 Vote for S0         
                                                 S2 update term T1                                                      
                                                 S2 Receive Request Vote                                                
                                                 args(LastLogTerm 0,                                                    
                                                 LastLogIndex 0) from                                                   
                                                 S0(LastLogTerm 0,                                                      
                                                 LastLogIndex 0)                                                        
S0 asking S3 for vote,                                                                                                  
T1                                                                                                                      
                                                 S2 Vote for S0                                                         
                                                                         S3 update term T1                              
                                                                         S3 Receive Request Vote                        
                                                                         args(LastLogTerm 0,                            
                                                                         LastLogIndex 0) from                           
                                                                         S0(LastLogTerm 0,                              
                                                                         LastLogIndex 0)                                
                                                                         S3 Vote for S0                                 
S0 asking S1 for vote,                                                                                                  
T1                                                                                                                      
S0 Achieved Majority for                                                                                                
T1 (3), converting to                                                                                                   
Leader                                                                                                                  
                         S1 update term T1                                                                              
                         S1 Receive Request Vote                                                                        
                         args(LastLogTerm 0,                                                                            
                         LastLogIndex 0) from                                                                           
                         S0(LastLogTerm 0,                                                                              
                         LastLogIndex 0)                                                                                
                         S1 Vote for S0                                                                                 
L0 Start agreement With                                                                                                 
Command 1, Log is                                                                                                       
[{<nil> 0} {1 1}]                                                                                                       
                                                                                                 S4 Receive Append Entry
                                                                                                 E(PrevLogIndex         
                                                                                                 0,PrevLogTerm 0) Log[{1
                                                                                                 1}]                    
                                                                                                 S4 replicate the entry 
                                                                                                 from L0, Now the Log   
                                                                                                 length is 2, the Log is
                                                                                                 [{<nil> 0} {1 1}]      
                                                 S2 Receive Append Entry                                                
                                                 E(PrevLogIndex                                                         
                                                 0,PrevLogTerm 0) Log[{1                                                
                                                 1}]                                                                    
                                                 S2 replicate the entry                                                 
                                                 from L0, Now the Log                                                   
                                                 length is 2, the Log is                                                
                                                 [{<nil> 0} {1 1}]                                                      
                         S1 Receive Append Entry                                                                        
                         E(PrevLogIndex                                                                                 
                         0,PrevLogTerm 0) Log[{1                                                                        
                         1}]                                                                                            
                         S1 replicate the entry                                                                         
                         from L0, Now the Log                                                                           
                         length is 2, the Log is                                                                        
                         [{<nil> 0} {1 1}]                                                                              
                                                                         S3 Receive Append Entry                        
                                                                         E(PrevLogIndex                                 
                                                                         0,PrevLogTerm 0) Log[{1                        
                                                                         1}]                                            
                                                                         S3 replicate the entry                         
                                                                         from L0, Now the Log                           
                                                                         length is 2, the Log is                        
                                                                         [{<nil> 0} {1 1}]                              
                                                                                                 S4 nextIndex Increase, 
                                                                                                 Now is 2, MatchIndex is
                                                                                                 1                      
                                                 S2 nextIndex Increase,                                                 
                                                 Now is 2, MatchIndex is                                                
                                                 1                                                                      
                         S1 nextIndex Increase,                                                                         
                         Now is 2, MatchIndex is                                                                        
                         1                                                                                              
                                                                         S3 nextIndex Increase,                         
                                                                         Now is 2, MatchIndex is                        
                                                                         1                                              
L0 Achieved Majority of                                                                                                 
servers commited the                                                                                                    
entry at {1 1}                                                                                                          
                                                                         S3 Commit Index 1,                             
                                                                         Command 1                                      
S0 Commit Index 1,                                                                                                      
Command 1                                                                                                               
                         S1 Commit Index 1,                                                                             
                         Command 1                                                                                      
                                                                                                 S4 Commit Index 1,     
                                                                                                 Command 1              
                                                 S2 Commit Index 1,                                                     
                                                 Command 1                                                              
L0 Start agreement With                                                                                                 
Command 2, Log is                                                                                                       
[{<nil> 0} {1 1} {2 1}]                                                                                                 
                         S1 Receive Append Entry                                                                        
                         E(PrevLogIndex                                                                                 
                         1,PrevLogTerm 1) Log[{2                                                                        
                         1}]                                                                                            
                         S1 replicate the entry                                                                         
                         from L0, Now the Log                                                                           
                         length is 3, the Log is                                                                        
                         [{<nil> 0} {1 1} {2 1}]                                                                        
                         S1 nextIndex Increase,                                                                         
                         Now is 3, MatchIndex is                                                                        
                         2                                                                                              
                                                 S2 Start Leader                                                        
                                                 Election                                                               
                                                 C2 Send Request Vote                                                   
                                                 for S4                                                                 
                                                 C2 Send Request Vote                                                   
                                                 for S1                                                                 
                                                 C2 Send Request Vote                                                   
                                                 for S0                                                                 
                                                 C2 Send Request Vote                                                   
                                                 for S3                                                                 
                                                                                                 S4 Start Leader        
                                                                                                 Election               
                                                                                                 C4 Send Request Vote   
                                                                                                 for S3                 
                                                                                                 C4 Send Request Vote   
                                                                                                 for S1                 
                                                                                                 C4 Send Request Vote   
                                                                                                 for S2                 
                                                                                                 C4 Send Request Vote   
                                                                                                 for S0                 
                                                                         S3 Start Leader                                
                                                                         Election                                       
                                                                         C3 Send Request Vote                           
                                                                         for S4                                         
                                                                         C3 Send Request Vote                           
                                                                         for S2                                         
                                                                         C3 Send Request Vote                           
                                                                         for S1                                         
                                                                         C3 Send Request Vote                           
                                                                         for S0                                         
                                                 S2 Can't Send Vote                                                     
                                                 Request to S0                                                          
                         S1 Start Leader                                                                                
                         Election                                                                                       
                         C1 Send Request Vote                                                                           
                         for S4                                                                                         
                         C1 Send Request Vote                                                                           
                         for S2                                                                                         
                         C1 Send Request Vote                                                                           
                         for S3                                                                                         
                         C1 Send Request Vote                                                                           
                         for S0                                                                                         
                         S1 Can't Send Vote                                                                             
                         Request to S0                                                                                  
                         S1 Can't Send Vote                                                                             
                         Request to S2                                                                                  
                                                                         S3 Can't Send Vote                             
                                                                         Request to S2                                  
                         S1 Can't Send Vote                                                                             
                         Request to S3                                                                                  
                                                                         S3 Can't Send Vote                             
                                                                         Request to S1                                  
                                                                                                 S4 Can't Send Vote     
                                                                                                 Request to S1          
                                                 S2 Can't Send Vote                                                     
                                                 Request to S1                                                          
                         S1 Can't Send Vote                                                                             
                         Request to S4                                                                                  
                                                                                                 S4 Can't Send Vote     
                                                                                                 Request to S3          
                                                                                                 S4 Can't Send Vote     
                                                                                                 Request to S0          
                                                 S2 Can't Send Vote                                                     
                                                 Request to S3                                                          
                                                 S2 Can't Send Vote                                                     
                                                 Request to S4                                                          
                                                                                                 S4 Can't Send Vote     
                                                                                                 Request to S2          
                                                                         S3 Can't Send Vote                             
                                                                         Request to S0                                  
                                                                         S3 Can't Send Vote                             
                                                                         Request to S4                                  
########################################################################################################################
FAIL
########################################################################################################################
FAIL    6.5840/raft     11.515s
